!function(a){var i,t;"undefined"!=typeof acf&&(acfe.enhancedEditUI=function(e){return new i(e)},i=acf.Model.extend({data:{screen:!1,submit:"> p.submit",pageTitle:!1},title:!1,$form:!1,$main:!1,$sidebar:!1,setup:function(e){a.extend(this.data,e),this.$el=a(".wrap"),this.$el.attr("id","poststuff"),this.$("> form").wrapInner('<div class="acf-columns-2"><div class="acf-column-1"></div></div>'),a("#side-sortables").appendTo(".acf-columns-2").wrapAll('<div class="acf-column-2"></div>'),this.title=this.$("> h1").text(),this.$form=this.$("> form"),this.$main=this.$(".acf-column-1"),this.$sidebar=this.$(".acf-column-2"),this.get("pageTitle")&&this.$main.find("> table:first").before("<h2>"+this.title+"</h2>"),a("#submitdiv > .postbox-header > h2.hndle").text(this.title),this.$main.find(this.get("submit")).contents().appendTo("#publishing-action"),this.$main.find(this.get("submit")).remove(),a("#submitdiv #publishing-action .button").addClass("button-large").after('<span class="spinner"></span>')},events:{"submit form":"onSubmit"},initialize:function(){this.addActions({"acfe/ui/user-edit":"userEdit","acfe/ui/user-new":"userNew","acfe/ui/term-edit":"termEdit","acfe/ui/settings":"settings"}),acf.doAction("acfe/ui/"+this.get("screen"),this)},onSubmit:function(e,i){acf.lockForm(i)},userEdit:function(){var e=this.$main;e.prepend(a("#acf_after_title-sortables"));var i=this.$("> form .yoast.yoast-settings");i.length&&(i.addClass("postbox"),i.find("> h2").wrapAll('<div class="postbox-header"></div>'),i.find("> .postbox-header ~ *").wrapAll('<div class="acf-fields -left"></div>'),i.find(".acf-fields > label:nth-of-type(1), .acf-fields > input:nth-of-type(1)").wrapAll('<div class="acf-field"></div>'),i.find(".acf-fields > label:nth-of-type(1), .acf-fields > label:nth-of-type(1) ~ *").wrapAll('<div class="acf-field"></div>'),i.find(".acf-fields > br").remove(),i.find(".acf-field").each(function(){var e=a(this);e.find("label:nth-of-type(1)").wrapAll('<div class="acf-label"></div>'),e.find(".acf-label ~ *").wrapAll('<div class="acf-input"></div>')}));var t=this.$("#ure_select_other_roles");t.length&&t.closest("table").find("tr:eq(1) > td > br").remove();i=a("#application-passwords-section");i.length&&(t=i.find("> h2").text(),i.addClass("postbox"),i.wrapInner('<div class="acf-fields -left"><div class="acf-field"><div class="acf-input"></div></div></div>'),i.find(".acf-input > h2").insertBefore(i.find(".acf-fields")).wrapAll('<div class="postbox-header"></div>'),i.find(".acf-input").before('<div class="acf-label"><label>'+t+"</label></div>"),i.find(".acf-input > p:first").css("margin-top",15).insertBefore(i.find("p.submit")),i.find(".acf-input > .create-application-password > .form-field").removeClass("form-field"),i.find(".acf-input > .create-application-password > div > label").remove());i=a("input#nickname");i.length&&(i.wrapAll('<div id="titlediv"><div id="titlewrap"></div></div>'),a("#titlediv").append(a("#edit-slug-box")).prependTo(e),e.find("tr.user-nickname-wrap").remove()),e.find("> h2:eq(1), > h2:eq(1) + table").insertBefore(e.find("> h2:first"))},userNew:function(){var e=this.$main;this.$("> p:first").insertAfter(e.find(">h2:first")),e.prepend(a("#acf_after_title-sortables"))},termEdit:function(){var e=this.$main,i=a("input#name");i.length&&(i.wrapAll('<div id="titlediv"><div id="titlewrap"></div></div>'),a("#titlediv").append(a(".permalink")).prependTo(e),e.find("tr.term-name-wrap").remove());e=a("#icl_tax_menu");e.length&&(t=e.find("h3.hndle").text(),e.find(".inside").addClass("icl-tax-postbox-content").attr("style","").insertAfter("#submitdiv"),this.$sidebar.find(".icl-tax-postbox-content").wrapAll('<div id="icl-tax-postbox" class="postbox"></div>').parent().prepend('<div class="postbox-header"><h2 class="hdnle">'+t+"</h2></div>"));var t,e=a(".wpseo-taxonomy-metabox-postbox");e.length&&(t=e.find("> h2").text(),e.find("> .inside").removeClass("inside").wrapAll('<div class="acf-fields -left"><div class="acf-field"><div class="acf-input"></div></div></div>'),a('<div class="acf-label"><label>'+t+"</label></div>").insertBefore(e.find(".acf-input"))),a("#submitdiv #publishing-action").addClass("edit-tag-actions")},settings:function(){acf.get("locale")||acf.set("locale","en_US"),a("#acf-form-data").prependTo(this.$form),a("#acf_after_title-sortables").prependTo(this.$main),a("#normal-sortables").appendTo(this.$main);var e=this.$("#ping_sites");e.length&&(e.wrap('<table class="form-table"><tbody><td class="td-full"></td></tbody></table>'),e.css("width","100%"));e=this.$(".permalink-structure");e.length&&e.prev().prev("p").insertBefore(e)}}),acfe.enhancedListUI=function(e){return new t(e)},t=acf.Model.extend({data:{taxonomy:!1},setup:function(e){a.extend(this.data,e)},initialize:function(){a(".wrap .wp-heading-inline").after(a("#tmpl-button-add-term").html()),a("#ajax-response").after(a("#col-container #col-left").addClass("acfe-bt")),a(".acfe-bt").hide(),a(".acfe-bt .form-wrap").append('<div id="poststuff"></div>');var e=a(".acfe-bt .form-wrap form");a(".acfe-bt #poststuff").append(e),e.wrapInner('<div class="postbox" id="acfe-bt-form"><div class="inside"></div></div>');var i=a(".acfe-bt .form-wrap > h2");a(".acfe-bt .postbox").prepend('<h2 class="hndle">'+i.text()+"</h2>"),i.remove(),a(".acfe-bt .inside .form-field").addClass("acf-field"),a(".acfe-bt .inside .submit").addClass("form-field"),a(".acfe-bt .inside .form-field").each(function(){var e,i=a(this);i.is("#term-translations")||(i.append('<div class="acf-input"></div>'),i.find(".acf-input").append(i.find('> :not("label")')),(e=i.find("> label")).length?e.wrap('<div class="acf-label"></div>'):i.addClass("acfe-bt-no-label"))}),a("#acf-term-fields").contents().unwrap(),a(".acfe-bt-admin-button-add").click(function(e){e.preventDefault();e=a(".acfe-bt");e.is(":visible")?e.hide():e.show()}),"undefined"!=typeof acf&&acf.postbox.render({id:"acfe-bt-form",label:"left"}),a("#acfe-bt-form .acf-tab-wrap.-left").removeClass("-left").addClass("-top");e=a("#icl_tax_menu");e.length&&((i=e.find(".postbox").removeClass("postbox")).find(".inside").removeClass("inside").css("padding",0),i.insertBefore(".acfe-bt .inside .submit"),e=i.find("h3.hndle").text(),i.find(".hndle").remove(),i.wrapAll('<div class="form-field acf-field"><div class="acf-input"></div></div>').parent().parent().prepend('<div class="acf-label"><label>'+e+"</label></div>")),this.addAction("ready","ready")},ready:function(){a(".global-new-entity-button").click(function(e){e.preventDefault();e=a(".acfe-bt");e.is(":visible")?e.hide():e.show()})}}))}(jQuery);