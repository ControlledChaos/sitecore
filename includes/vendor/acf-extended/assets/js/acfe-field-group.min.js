!function(f){var e;"undefined"!=typeof acf&&(new acf.Model({actions:{append_field_object:"appendCodeEditor"},appendCodeEditor:function(e){"acfe_code_editor"===e.get("type")&&(e.$setting("default_value").find("> .acf-input > .acf-input-wrap > .CodeMirror:last").remove(),e.$setting("placeholder").find("> .acf-input > .acf-input-wrap > .CodeMirror:last").remove())}}),new acf.Model({actions:{"change_field_label/type=acfe_column":"renderTitle","change_field_type/type=acfe_column":"renderTitle","render_field_settings/type=acfe_column":"renderField"},renderTitle:function(e){var t=acf.getInstance(e),n=t.$setting("columns"),e=acf.getInstance(n).getValue(),n=t.$setting("endpoint");acf.getInstance(n).getValue()?t.set("label","(Column endpoint)"):t.set("label","(Column "+e+")")},renderField:function(e){var t=acf.getFieldObject(e),e=function(){t.set("label",!0)};t.on("change",".acfe-field-columns",e),t.on("change",".acfe-field-columns-endpoint",e)}}),new acf.Model({filters:{"select2_ajax_data/action=acfe/fields/taxonomy_terms/allow_query":"taxonomyTermsAjax"},taxonomyTermsAjax:function(e,t,n,a,i){var l=n.closest(".acf-field-settings").find("> .acf-field-setting-taxonomy > .acf-input > select > option:selected"),o=[];l.each(function(){o.push(f(this).val())}),e.taxonomies=o;n=n.closest(".acf-field-settings").find('> .acf-field-setting-allow_terms > .acf-input input[type="number"]');return e.level=n.val(),e}}),new acf.Model({wait:"prepare",events:{"click .acfe_modal_open":"onClickOpen"},onClickOpen:function(e,t){new acfe.Popup(f(".acfe-modal[data-modal-key="+t.attr("data-modal-key")+"]"),{title:"Data",size:"medium",footer:acf.__("Close")})},initialize:function(){f(".button.edit-field").each(function(){var e=f(this).closest("tbody");f(e).find(".acfe_modal_open:first").insertAfter(f(this)),f(e).find(".acfe-modal:first").appendTo(f("body")),f(e).find("tr.acf-field-setting-acfe_field_data:first").remove()})}}),new acf.Model({actions:{new_field:"onNewField"},onNewField:function(e){var t;"tab"!==e.get("type")&&(e.has("before")?(t=e.$el.siblings('[data-name="'+e.get("before")+'"]').first()).length&&t.before(e.$el):e.has("after")&&(t=e.$el.siblings('[data-name="'+e.get("after")+'"]').first()).length&&t.after(e.$el))}}),e=acf.models.TabField,acf.models.TabField=e.extend({initialize:function(){this.has("before")?($sibling=this.$el.siblings('[data-name="'+this.get("before")+'"]').first(),$sibling.length&&$sibling.before(this.$el)):this.has("after")&&($sibling=this.$el.siblings('[data-name="'+this.get("after")+'"]').first(),$sibling.length&&$sibling.after(this.$el)),e.prototype.initialize.apply(this,arguments)}}),new acf.Model({wait:"ready",actions:{append:"onAppend","acfe/field_group/rule_refresh":"refreshFields"},initialize:function(){this.$el=f("#acf-field-group-locations")},onAppend:function(e){(e.is(".rule-group")||e.parent().parent().parent().is(".rule-group"))&&this.refreshFields()},refreshFields:function(){acf.getFields({parent:this.$("td.value")}).map(function(e){acfe.inArray(e.get("type"),["date_picker","date_time_picker","time_picker"])&&(e.$inputText().removeClass("hasDatepicker").removeAttr("id"),e.initialize())})}}),new acf.Model({actions:{"new_field/name=acfe_meta":"renderClass","new_field/name=acfe_settings":"renderClass","new_field/name=acfe_validate":"renderClass"},renderClass:function(e){e.$(".acf-button").removeClass("button-primary")}}),new acf.Model({events:{"keyup #post_name":"onInput"},onInput:function(e,t){var n=t.val();n.startsWith("group_")||(n="group_"+n,t.val(n)),f('[name="acf_field_group[key]"]').val(n),f(".misc-pub-acfe-field-group-key code").html(n)}}),new acf.Model({actions:{ready_field_object:"flexibleContent"},flexibleContent:function(e){e.get("key").startsWith("field_acfe_layout_")&&e.delete()}}))}(jQuery);