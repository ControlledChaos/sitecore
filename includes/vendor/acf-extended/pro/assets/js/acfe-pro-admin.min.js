!function(c){"undefined"!=typeof acf&&new acf.Model({wait:"ready",initialize:function(){if("acfe_rewrite_rules"===acf.get("screen")){acf.unload.disable();var t,o=acf.get("rewrite_rules");for(t in o){var e=o[t];e="^"!==(e=e.replace(/\\\\/g,"\\")).substring(0,1)?"^"+e:e,o[t]=new RegExp("^"+e)}c("span.regexgroup, span.regexgroup-target").hover(function(){var t=c(this)[0].id;"-target"===t.substr(-7)&&(t=t.substr(0,t.length-7)),c("#"+t+", #"+t+"-target").toggleClass("highlight")}),c("span.regex-repeater").hover(function(){c(this).parent().toggleClass("highlight")});var l=null;c("#acfe-rewrite-rules-url").keyup(function(){var t=c(this).val();if(""!==t){var e,s={},a=!0;for(e in o){var i=o[e].exec(t);if(i){s[e]=i;for(var r=c("#rewrite-rule-"+e).addClass("rewrite-rule-matched").removeClass("rewrite-rule-unmatched"),n=0;n<i.length;n++)c("#regex-"+e+"-group-"+n+"-target-value").html(i[n]||"");a&&(r.addClass("rewrite-rule-matched-first"),a=!1,l!==e&&(c("#rewrite-rule-"+l).removeClass("rewrite-rule-matched-first"),l=e))}else c("#rewrite-rule-"+e).removeClass("rewrite-rule-matched").addClass("rewrite-rule-unmatched")}}else c(".rewrite-rule-line").removeClass("rewrite-rule-matched rewrite-rule-matched-first rewrite-rule-unmatched")}),c("#acfe-rewrite-rules-clear").click(function(t){t.preventDefault(),c("#acfe-rewrite-rules-url").val(""),c(".rewrite-rule-line").removeClass("rewrite-rule-matched rewrite-rule-matched-first rewrite-rule-unmatched")})}}})}(jQuery),function(e){"undefined"!=typeof acf&&new acf.Model({wait:"prepare",initialize:function(){"post.php"!==acfe.currentFilename()&&"post-new.php"!==acfe.currentFilename()||!e("body").hasClass("acfe-screen-layouts")||this.newScreen()},newScreen:function(){var t=e(".columns-prefs input:checked").val();t&&"1"!==t&&"2"!==t&&e("#post-body.metabox-holder").removeClass("columns-2").addClass("columns-"+t)}})}(jQuery),function(a){var e,s;"undefined"!=typeof acf&&(new acf.Model({wait:"prepare",i:-1,xhr:!1,timer:!1,stats:!1,paused:!1,confirmed:!1,restart:!1,data:{script:!1,run:!1},scriptData:{},scriptStats:{},$events:function(){return a("#events .events")},$eventType:function(t){return this.$events().find('> .event[data-type="'+t+'"]')},$eventStatus:function(t){return this.$events().find('> .event[data-status="'+t+'"]')},eventScope:"#acfe-scripts",events:{"click #start":"onStart","click #stop":"onStop","click #pause":"onPause","click #clear":"onClear","click #tail":"onTail","click .filter":"onFilter",'click [name="acf[confirm]"]':"onConfirm"},onStart:function(t,e){t.preventDefault(),this.submitForm(this)},onStop:function(t){t.preventDefault(),this.stop()},onPause:function(t){t.preventDefault(),this.pause()},onClear:function(t){t.preventDefault(),this.clear(!0)},onTail:function(t,e){t.preventDefault(),e.hasClass("disabled")||this.snapEventsScroll()},onFilter:function(t,e){t.preventDefault();t=e.data("status"),t=this.$eventStatus(t);e.hasClass("disabled")?(e.removeClass("disabled"),t.show()):(e.addClass("disabled"),t.not('[data-type="confirm"]').hide()),a("#tail").hasClass("disabled")&&this.snapEventsScroll()},onConfirm:function(t,e){var s;t.preventDefault(),this.busy||((t=(s=a(t.currentTarget)).closest("form").find('input[name="'+s.attr("name")+'"]')).length||(t=a("<input>",{type:"hidden",name:s.attr("name")})).insertAfter(s),e=e.closest(".event"),t.val(s.val()),e.attr("data-type","confirmed"),this.confirmed=!1,a("#start").attr("disabled",!0),a("#stop").attr("disabled",!1),a("#clear").attr("disabled",!1),a("#pause").attr("disabled",!1),this.newAjax(),("1"===t.val()?a(".confirm-buttons").html("Confirmed"):a(".confirm-buttons").html("Canceled")).addClass("confirmed"),a('.filters > .filter[data-status="'+e.attr("data-status")+'"]').hasClass("disabled")&&e.hide(),this.timer.start())},submitForm:function(t){acf.validateForm({form:t.$("form"),reset:!0,success:function(){t.start()}})&&t.start()},addEvent:function(t){var e="",s=new Date,s=("0"+s.getHours()).substr(-2)+":"+("0"+s.getMinutes()).substr(-2)+":"+("0"+s.getSeconds()).substr(-2);(t=acf.parseArgs(t,{i:this.i,time:s,type:"",message:"",status:"",link:!1,debug:!1})).debug&&(e+='<a href="#" data-acfe-modal data-acfe-modal-title="'+acf.__("Debug")+'" data-acfe-modal-footer="'+acf.__("Close")+'" data-acfe-modal-size="large">'+acf.__("Debug")+'</a>\n<div class="acfe-modal">\n    <div class="acfe-modal-spacer"><pre>'+t.debug+"</pre></div>\n</div>"),t.link&&(e=e.length?t.link+" | "+e:t.link),"confirm"===t.effect&&(t.type="confirm",t.message+='<div class="confirm-buttons">   <button class="button button-primary" name="acf[confirm]" value="1">Confirm</button>   <button class="button" name="acf[confirm]" value="0">Cancel</button></div>');s=this.isEventsScrolled(),e=a('<div class="event" data-status="'+t.status+'" data-type="'+t.type+'" data-i="'+t.i+'" data-time="'+t.time+'">\n    <div class="time"><span>'+t.time+'</span></div>\n    <div class="message">'+t.message+'</div>\n    <div class="details">'+e+"</div>\n</div>").appendTo(this.$events());a('.filters > .filter[data-status="'+t.status+'"]').hasClass("disabled")&&"confirm"!==t.type&&e.hide();e=a("#clear");e.attr("disabled",!1),"clear"===t.type&&e.attr("disabled",!0),this.updateFilters(),s&&this.snapEventsScroll()},initialize:function(){var t;"acfe_scripts"===acf.get("screen")&&(t=a(this.eventScope),this.$el=t,this.inherit(t),this.timer=new e,this.stats=new s,acf.unload.disable(),this.updateEventsHeight(),this.get("run")&&this.submitForm(this),this.addUnscopedEvents(this))},addUnscopedEvents:function(t){a(".events").scroll(function(){t.isEventsScrolled()||a("#tail").removeClass("disabled")}),a(window).resize(function(){t.updateEventsHeight()})},start:function(){this.i=-1,this.scriptData={},this.scriptStats={},a("#start").attr("disabled",!0),a("#pause").attr("disabled",!1),a("#stop").attr("disabled",!1),a("#clear").attr("disabled",!1),this.newAjax({type:"start"}),this.stats.clear(),this.timer.start(!0)},stop:function(t){t=t||!1,this.xhr&&(this.xhr.abort(),this.xhr=!1),this.$eventType("loading").remove(),this.paused=!1,this.confirmed=!1,a(".confirm-buttons:not(.confirmed)").remove(),t||this.newAjax({type:"stop"}),a("#start").attr("disabled",!1),a("#pause").attr("disabled",!0).removeClass("paused"),a("#stop").attr("disabled",!0),a("#clear").attr("disabled",!1),this.timer.clear()},pause:function(){this.paused?this.busy||(this.paused=!1,a("#start").attr("disabled",!0),a("#stop").attr("disabled",!1),a("#clear").attr("disabled",!1),a("#pause").removeClass("paused"),this.newAjax(),this.timer.start()):(this.paused=!0,a("#pause").attr("disabled",!0))},doPause:function(){a("#start").attr("disabled",!0),a("#stop").attr("disabled",!1),a("#clear").attr("disabled",!1),a("#pause").attr("disabled",!1).addClass("paused"),this.timer.pause(),this.addEvent({i:"",type:"pause",status:"info",message:"Pause"})},doConfirm:function(){a("#start").attr("disabled",!0),a("#stop").attr("disabled",!1),a("#clear").attr("disabled",!1),a("#pause").attr("disabled",!0),this.timer.pause()},clear:function(t){t=t||!1,this.$eventType("confirm").length?this.$events().find(' > *:not(.event[data-type="confirm"])').remove():(this.$events().html(""),t&&this.addEvent({i:"",type:"clear",status:"info",message:"Clear"}))},newAjax:function(t){return this.paused?this.doPause():this.confirmed?this.doConfirm():(t=t||{},"request"===(t=acf.parseArgs(t,{action:"acfe/ajax/script",script:this.get("script"),index:-1,type:"request",data:this.scriptData,stats:this.scriptStats,fields:acf.serialize(this.$("form"),"acf")})).type&&(this.i++,t.index=this.i),t=acf.applyFilters("acfe/scripts/ajax_data",t,this),t=acf.applyFilters("acfe/scripts/ajax_data/name="+this.get("script"),t,this),void(this.xhr=a.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"json",context:this,beforeSend:this.onBeforeSend,success:this.onSuccess,complete:this.onComplete,statusCode:this.onStatusCode})))},onBeforeSend:function(){this.busy=!0,this.addEvent({i:"",message:'<span class="spinner"></span>',type:"loading"})},onSuccess:function(t){return t=acf.applyFilters("acfe/scripts/ajax_success",t,this),t=acf.applyFilters("acfe/scripts/ajax_success/name="+this.get("script"),t,this),this.stats.update(t,this.timer.sec),void 0!==t.data&&(this.scriptData=t.data),void 0!==t.stats&&(this.scriptStats=t.stats),"clear"===t.effect?this.clear():"pause"!==t.effect||this.paused?"confirm"!==t.effect||this.confirmed||(this.confirmed=!0):this.paused=!0,this.$eventType("loading").remove(),void 0!==t.message&&this.addEvent(t),this.restart?(this.restart=!1,this.start()):"request"===t.event?this.newAjax():"stop"===t.event?this.stop():"restart"===t.event?(this.restart=!0,this.stop()):void 0},onComplete:function(){this.busy=!1},onStatusCode:{400:function(){this.addEvent({type:"error",status:"error",message:"Error 400: Request not found"}),this.stop(!0)},404:function(){this.addEvent({type:"error",status:"error",message:"Error 404: <code>admin-ajax.php</code> not found"}),this.stop(!0)},500:function(){this.addEvent({type:"error",status:"error",message:"Error 500: PHP error. Check your logs"}),this.stop(!0)},524:function(){this.addEvent({type:"error",status:"error",message:"Error 524: Timeout. Please reload the script"}),this.stop(!0)}},updateFilters:function(){a('.filters > .filter[data-status="success"]').html(this.$eventStatus("success").length),a('.filters > .filter[data-status="info"]').html(this.$eventStatus("info").length),a('.filters > .filter[data-status="error"]').html(this.$eventStatus("error").length),a('.filters > .filter[data-status="warning"]').html(this.$eventStatus("warning").length)},isEventsScrolled:function(){var t=this.$events()[0];return t.scrollHeight-t.clientHeight<=t.scrollTop+1},snapEventsScroll:function(){a("#tail").addClass("disabled");var t=this.$events()[0];this.$events().scrollTop(t.scrollHeight-t.clientHeight)},updateEventsHeight:function(){var t=0;this.$('#postbox-container-2 .postbox:not("#events")').each(function(){t+=a(this).outerHeight()+20});var e=window.innerHeight-(t+270);this.$events().height(e)}}),e=acf.Model.extend({sec:0,var:!1,$time:function(){return a("#events .postbox-footer .timer > .time")},start:function(t){var a=this;(t=t||!1)&&a.$time().html("00:00:00");this.var=setInterval(function(){++a.sec;var t=Math.floor(a.sec/3600),e=Math.floor((a.sec-3600*t)/60),s=a.sec-(3600*t+60*e);t<10&&(t="0"+t),e<10&&(e="0"+e),s<10&&(s="0"+s),a.$time().html(t+":"+e+":"+s)},1e3)},pause:function(){clearInterval(this.var)},clear:function(){clearInterval(this.var),this.sec=0}}),s=acf.Model.extend({$total:function(){return a("#events .postbox-footer .total")},$left:function(){return a("#events .postbox-footer .left")},$timeLeft:function(){return a("#events .postbox-footer .timeleft")},update:function(t,e){var s;0<t.stats.total&&(this.$total().show(),this.$total().find("> span").html(t.stats.total)),(0<t.stats.left||0<t.stats.total&&0<=t.stats.left)&&(this.$left().show(),this.$left().find("> span").html(t.stats.left)),0<t.stats.total&&0<=t.stats.left&&t.stats.total!==t.stats.left&&(s=parseInt(t.stats.total),t=parseInt(t.stats.left),s=parseInt(s-t),e=0===(e=parseInt(e))?1:e,e=(e=0===(e=(e=parseInt(e/s*t))||0)&&0<t?t:e)-(3600*(s=Math.floor(e/3600))+60*(t=Math.floor((e-3600*s)/60))),s<10&&(s="0"+s),t<10&&(t="0"+t),e<10&&(e="0"+e),this.$timeLeft().show(),this.$timeLeft().find("> span").html(s+":"+t+":"+e))},clear:function(){this.$total().find("> span").html("-"),this.$left().find("> span").html("-"),this.$timeLeft().find("> span").html("-")}}))}(jQuery),function(a){"undefined"!=typeof acf&&new acf.Model({actions:{ready:"ready",new_field:"newField"},ready:function(){a('[data-acfe-settings-action="edit"]').click(function(t){var e=a(this),s=e.data("acfe-settings-field"),s=acf.getField(s);s.showEnable(s.cid),acf.hide(e),acf.show(e.closest("div").find('[data-acfe-settings-action="default"]'));s=e.closest(".inside").find("> .acf-tab-wrap > .acf-tab-group > li.active span.acfe-tab-badge"),e=parseInt(s.text())+1;s.text(e),0<e&&acf.show(s)}),a('[data-acfe-settings-action="default"]').click(function(t){var e=a(this),s=e.data("acfe-settings-field"),s=acf.getField(s);s.hideDisable(s.cid),acf.hide(e),acf.show(e.closest("div").find('[data-acfe-settings-action="edit"]'));s=e.closest(".inside").find("> .acf-tab-wrap > .acf-tab-group > li.active span.acfe-tab-badge"),e=parseInt(s.text())-1;s.text(e),0==e&&acf.hide(s)})},newField:function(t){t.$el.hasClass("acfe-disabled")&&t.hideDisable(t.cid)}})}(jQuery);