!function(){var e;"undefined"!=typeof acf&&(e=acf.models.CheckboxField,acf.models.CheckboxField=e.extend({onChange:function(e,t){var i=t.prop("checked"),a=t.closest("label"),t=this.$toggle();i?a.addClass("selected"):a.removeClass("selected"),t.length&&(0===this.$inputs().not(":checked").length?t.prop("checked",!0):t.prop("checked",!1))}}))}(jQuery),function(){var e;"undefined"!=typeof acf&&(e=acf.models.RadioField,acf.models.RadioField=e.extend({onClick:function(e,t){var i=t.closest("label"),a=i.hasClass("selected"),n=t.val();this.$(".selected").removeClass("selected"),i.addClass("selected"),this.get("allow_null")&&a&&(i.removeClass("selected"),t.prop("checked",!1).trigger("change"),n=!1),this.get("other_choice")&&("other"===n?this.$inputText().prop("disabled",!1):this.$inputText().prop("disabled",!0))},setValue:function(e){var t;this.$(":radio[value="+e+"]").is(":checked")||(this.$("label.selected").removeClass("selected"),e=(t=this.$(":radio[value="+e+"]")).closest("label"),t.prop("checked",!0),e.addClass("selected"))}}))}(jQuery),function(i){var e;"undefined"!=typeof acf&&(e=acf.models.ColorPickerField,acf.models.ColorPickerField=e.extend({$palette:function(){return this.$(".acf-color-picker-palette")},$picker:function(){return this.$("button.wp-color-result")},setValue:function(e){this.updateValue(e),this.$inputText().iris("color",e)},updateValue:function(e){acf.val(this.$input(),e),acf.doAction("acfe/fields/color_picker/update_color",e,this),acf.doAction("acfe/fields/color_picker/update_color/name="+this.get("name"),e,this),acf.doAction("acfe/fields/color_picker/update_color/key="+this.get("key"),e,this)},initialize:function(){var t=this,e=(this.$input(),this.$inputText());this.addEvents({"click a[data-color]":"onClickColor"}),this.get("alpha")&&(e.attr("data-alpha-enabled",!0),e.attr("data-alpha-color-type","hex"));var i={defaultColor:!1,palettes:!1,hide:!0,change:function(e){setTimeout(function(){t.onChangeColorPicker(e)},1)},clear:function(e){setTimeout(function(){t.onClearColorPicker(e)},1)}};"default"===this.get("display")&&this.get("colors")&&(i.palettes=this.get("colors")),i=acf.applyFilters("color_picker_args",i,this),e.wpColorPicker(i),this.addUnscopedEvents(this),this.render()},addUnscopedEvents:function(t){this.$picker().on("click",function(e){t.onClickColorPicker(e,i(this))})},render:function(){var e=this.$(".iris-strip"),t=this.$(".iris-palette"),i=this.$(".iris-picker");e.css("height","183px"),"default"===this.get("display")&&this.get("colors")&&i.css({height:200+27*Math.ceil(t.length/8)+"px","padding-bottom":"12px"}),this.get("alpha")||i.css({width:"229px"}),"palette"===this.get("display")&&""!==this.$inputText().val()&&this.$picker().addClass("selected").css({color:this.$inputText().val()}),"Select Color"!==this.get("button_label")&&this.$picker().find(".wp-color-result-text").text(this.get("button_label"))},onChangeColorPicker:function(e){this.$input();var t=this.$inputText(),i=this.$palette(),a=this.$picker();this.updateValue(t.val()),"palette"===this.get("display")&&(i.find(".color").removeClass("selected"),a.css({color:t.val()}).addClass("selected"))},onClearColorPicker:function(e){this.$input();var t=this.$inputText(),i=this.$palette(),a=this.$picker();e.originalEvent&&(this.updateValue(t.val()),"palette"===this.get("display")&&(i.find(".color").removeClass("selected"),a.removeClass("selected")))},onClickColorPicker:function(e,t){"palette"!==this.get("display")||""===this.$inputText().val()||t.hasClass("selected")||(this.$palette().find(".color").removeClass("selected"),t.addClass("selected"),this.updateValue(this.$inputText().val()))},onClickColor:function(e,t){var i=t.attr("data-color");t.hasClass("selected")?this.get("allow_null")&&(this.updateValue(""),t.removeClass("selected")):(this.updateValue(i),this.$palette().find(".selected").removeClass("selected"),t.addClass("selected hover"),t.on("mouseleave",function(){t.removeClass("hover")}))}}))}(jQuery),function(i){"undefined"!=typeof acf&&new acf.Model({actions:{"new_field/type=date_picker":"newFieldDatePicker","new_field/type=date_time_picker":"newFieldDatePicker","new_field/type=time_picker":"newFieldDatePicker"},filters:{date_picker_args:"datePickerArgs",date_time_picker_args:"dateTimePickerArgs",time_picker_args:"timePickerArgs"},newFieldDatePicker:function(e){e.has("placeholder")&&e.$inputText().attr("placeholder",e.get("placeholder"))},datePickerArgs:function(e,t){return t.has("min_date")&&(e.minDate=t.get("min_date")),t.has("max_date")&&(e.maxDate=t.get("max_date")),t.has("no_weekends")&&(e.beforeShowDay=i.datepicker.noWeekends),e},dateTimePickerArgs:function(e,t){return t.has("min_date")&&(e.minDate=t.get("min_date")),t.has("max_date")&&(e.maxDate=t.get("max_date")),t.has("min_hour")&&(e.hourMin=t.get("min_hour")),t.has("max_hour")&&(e.hourMax=t.get("max_hour")),t.has("min_min")&&(e.minuteMin=t.get("min_min")),t.has("max_min")&&(e.minuteMax=t.get("max_min")),t.has("min_sec")&&(e.secondMin=t.get("min_sec")),t.has("max_sec")&&(e.secondMax=t.get("max_sec")),t.has("min_time")&&(e.minTime=t.get("min_time")),t.has("max_time")&&(e.maxTime=t.get("max_time")),t.has("no_weekends")&&(e.beforeShowDay=i.datepicker.noWeekends),e},timePickerArgs:function(e,t){return t.has("min_hour")&&(e.hourMin=t.get("min_hour")),t.has("max_hour")&&(e.hourMax=t.get("max_hour")),t.has("min_min")&&(e.minuteMin=t.get("min_min")),t.has("max_min")&&(e.minuteMax=t.get("max_min")),t.has("min_sec")&&(e.secondMin=t.get("min_sec")),t.has("max_sec")&&(e.secondMax=t.get("max_sec")),t.has("min_time")&&(e.minTime=t.get("min_time")),t.has("max_time")&&(e.maxTime=t.get("max_time")),e}})}(jQuery),function(){var e;"undefined"!=typeof acf&&(e=acf.Field.extend({type:"acfe_date_range_picker",$control:function(){return this.$(".acfe-date-range-picker")},$input:function(){return this.$('input[type="hidden"]')},$inputText:function(){return this.$('input[type="text"]')},getSeparator:function(){return this.get("separator")?" "+this.get("separator")+" ":" "},setValue:function(e){var t=this.$input(),i=this.$inputText(),a=i.data("daterangepicker");acf.val(t,e),e?acf.val(i,a.startDate.format(this.get("display_format"))+this.getSeparator()+a.endDate.format(this.get("display_format"))):acf.val(i,e)},initialize:function(){this.render(this),this.addUnscopedEvents(this)},render:function(t){var e={locale:{format:this.get("display_format"),separator:this.getSeparator(),applyLabel:acf.__("Close"),cancelLabel:acf.__("Clear"),firstDay:this.get("first_day")},isInvalidDate:function(e){return t.isInvalidDate(e)},autoUpdateInput:!1,alwaysShowCalendars:!0,buttonClasses:"button",applyButtonClasses:"",cancelClass:""};this.get("auto_close")&&(e.autoApply=Boolean(this.get("auto_close"))),this.get("min_days")&&(e.minSpan=this.get("min_days")),this.get("max_days")&&(e.maxSpan=this.get("max_days")),this.get("min_date")&&(e.minDate=this.get("min_date")),this.get("max_date")&&(e.maxDate=this.get("max_date")),this.get("custom_ranges")&&this.get("custom_ranges").length&&(e.ranges={},i=this.get("custom_ranges"),acfe.inArray("Today",i)&&(e.ranges.Today=[moment(),moment()]),acfe.inArray("Yesterday",i)&&(e.ranges.Yesterday=[moment().subtract(1,"days"),moment().subtract(1,"days")]),acfe.inArray("Last 7 Days",i)&&(e.ranges["Last 7 Days"]=[moment().subtract(6,"days"),moment()]),acfe.inArray("Last 30 Days",i)&&(e.ranges["Last 30 Days"]=[moment().subtract(29,"days"),moment()]),acfe.inArray("This Month",i)&&(e.ranges["This Month"]=[moment().startOf("month"),moment().endOf("month")]),acfe.inArray("Last Month",i)&&(e.ranges["Last Month"]=[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")])),e=acf.applyFilters("acfe/fields/date_range_picker/args",e,this),e=acf.applyFilters("acfe/fields/date_range_picker/args/name="+this.get("name"),e,this);var e=acf.applyFilters("acfe/fields/date_range_picker/args/key="+this.get("key"),e,this),i=this.$inputText();i.daterangepicker(e),i.data("daterangepicker").container.addClass("daterangepicker-acf-field-"+this.get("name")).addClass("daterangepicker-acf-field-"+this.get("key")),this.get("allow_null")&&i.data("daterangepicker").container.addClass("daterangepicker-allow-null"),acf.doAction("acfe/fields/date_range_picker/init",i,this),acf.doAction("acfe/fields/date_range_picker/init/name="+this.get("name"),i,this),acf.doAction("acfe/fields/date_range_picker/init/key="+this.get("key"),i,this)},isInvalidDate:function(e){var t=!1;!this.get("no_weekends")||6!==e.isoWeekday()&&7!==e.isoWeekday()||(t=!0);var i=this.$inputText(),t=acf.applyFilters("acfe/fields/date_range_picker/is_invalid",t,e,i,this);return t=acf.applyFilters("acfe/fields/date_range_picker/is_invalid/name="+this.get("name"),t,e,i,this),t=acf.applyFilters("acfe/fields/date_range_picker/is_invalid/key="+this.get("key"),t,e,i,this)},onApply:function(e,t){this.val(t.startDate.format("YYYYMMDD")+"-"+t.endDate.format("YYYYMMDD"))},onClear:function(e,t){this.val("")},addUnscopedEvents:function(i){this.$inputText().on("apply.daterangepicker",function(e,t){i.onApply(e,t)}),this.$inputText().on("cancel.daterangepicker",function(e,t){i.onClear(e,t)})}}),acf.registerFieldType(e))}(jQuery),function(s){var e;"undefined"!=typeof acf&&(e=acf.Field.extend({type:"file",$control:function(){return this.$(".acf-file-uploader")},$input:function(){return this.$('input[type="hidden"]:first')},$clone:function(){return this.$(".file-wrap.acf-clone")},$values:function(){return this.$(".values")},$files:function(){return this.$(".values .file-wrap").not(".acf-clone")},$newFiles:function(){return this.$(".values .file-wrap.-new").not(".acf-clone")},$file:function(e){return e.closest(".file-wrap")},fileValue:function(e){return this.$file(e).find('input[type="hidden"]').val()},fileID:function(e){return this.$file(e).attr("data-id")||!1},fileByValue:function(i){var a=this,n=!1,o=!1;return isNaN(i)||(o=!0,i=parseInt(i)),this.$files().each(function(){var e=s(this),t=a.fileValue(e);if((t=o?parseInt(t):t)===i)return n=e,!1}),n},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.$files().length},events:{'click a[data-name="add"]':"onClickAdd",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove","click .values":"onClickValues",'click a[data-name="basic-add"]':"onClickBasic",'change input[type="file"]':"onChangeBasic",mouseover:"onHover"},addUnscopedEvents:function(i){"wp"!==this.get("uploader")&&(this.$control().on("dragover dragenter",function(e){e.preventDefault(),e.stopPropagation(),i.$control().addClass("-dragover")}),this.$control().on("dragleave dragend drop",function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||i.$control().removeClass("-dragover")}),this.$control().on("drop",function(e,t){return!!i.validateAdd()&&void i.$(".acf-uploader:last input").prop("files",e.originalEvent.dataTransfer.files).change()}))},initialize:function(){"basic"===this.get("uploader")&&this.$el.closest("form").attr("enctype","multipart/form-data"),acf.disable(this.$clone(),this.cid),this.addUnscopedEvents(this),this.render()},render:function(){this.removeNotice(),this.allowAdd()?(this.$control().removeClass("-max"),this.$(".acf-uploader:last a.button").removeClass("disabled"),this.$(".acf-uploader:last input").attr("disabled",!1).removeClass("disabled")):(this.$control().addClass("-max"),this.$(".acf-uploader:last a.button").addClass("disabled"),this.$(".acf-uploader:last input").attr("disabled",!0).addClass("disabled")),this.$files().length?this.$control().addClass("has-value"):this.$control().removeClass("has-value"),this.$("span.count").text(this.$newFiles().length).attr("data-count",this.$newFiles().length)},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=(t=acf.__("Maximum items reached ({max} items)")).replace("{max}",e);return this.showNotice({text:t,type:"warning"}),!1},appendRepeater:function(e,t){function i(e,t){for(var i=acf.getFields({key:e.get("key"),parent:t.$el}),a=0;a<i.length;a++)if(!i[a].val())return i[a];return!1}var a=i(this,t);a||(t.$(".acf-button:last").trigger("click"),a=i(this,t)),a&&a.addFile(e)},onClickAdd:function(e,t){if(!this.validateAdd())return!1;var i=this.parent(),a=i&&"repeater"===i.get("type");this.get("multiple")?acf.newMediaPopup({mode:"select",title:acf.__("Select File"),field:this.get("key"),multiple:this.get("multiple"),library:this.get("library"),allowedTypes:this.get("mime_types"),select:s.proxy(function(e,t){this.addFile(e)},this)}):acf.newMediaPopup({mode:"select",title:acf.__("Select File"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime_types"),select:s.proxy(function(e,t){0<t?this.appendRepeater(e,i):this.addFile(e)},this)})},onClickEdit:function(e,i){acf.newMediaPopup({mode:"edit",title:acf.__("Edit File"),button:acf.__("Update File"),attachment:this.fileValue(i),field:this.get("key"),select:s.proxy(function(e,t){this.editFile(e,i)},this)})},onClickRemove:function(e,t){e.preventDefault(),"basic"===this.get("uploader")&&(this.$(".acf-uploader:last input").val(""),this.has("multiple")&&this.$('.acf-uploader[data-id="'+this.fileID(t)+'"]').remove()),this.$file(t).remove(),this.render(),this.$input().trigger("change")},onClickValues:function(e,t){if(!this.validateAdd())return!1;this.$control().hasClass("has-placeholder")&&t.next("div").find(".acf-uploader:last a").click()},onClickBasic:function(e,t){if(!this.validateAdd())return!1;t.closest("div").find("input").click()},onChangeBasic:function(e,t){if(this.has("multiple")&&1<t[0].files.length)for(var i=t[0].files,a=Array.from(i),n=0;n<a.length;n++){var o=new DataTransfer;o.items.add(a[n]),this.$(".acf-uploader:last input").prop("files",o.files),this.addFile(this.$(".acf-uploader:last input"))}else this.addFile(t)},onHover:function(e,t){this.has("multiple")&&(this.$values().sortable({items:"> .file-wrap",handle:"> .file-info",forceHelperSize:!0,forcePlaceholderSize:!0,tolerance:"pointer",scroll:!0}),this.off("mouseover"))},validateAttachment:function(e){var t=e||{};if(void 0!==t.id&&(t=t.attributes,this.fileByValue(t.id)))return!1;if("basic"===this.get("uploader")&&e instanceof jQuery){var i=this.getFileData(e),e=s.param(i);if(this.fileByValue(e))return!1;t={url:"#",title:i.name,filename:i.name,filesizeHumanReadable:this.acfeBytesToSize(i.size)}}return t=acf.parseArgs(t,{url:"",alt:"",title:"",filename:"",filesizeHumanReadable:"",icon:"/wp-includes/images/media/default.png"})},addFile:function(e){var t=this.validateAttachment(e);if(!t)return"basic"===this.get("uploader")&&this.$(".acf-uploader:last input").val(""),this.showNotice({text:"This file has been already selected",type:"warning"}),!1;this.has("multiple")||(this.$files().remove(),this.render());var i,a=t.id||"",n={target:this.$clone(),append:this.proxy(function(e,t){t.addClass("-new"),this.$values().append(t),acf.enable(t,this.cid)})};"basic"===this.get("uploader")&&(i=e.closest(".acf-uploader"),n.replace=i.attr("data-id"),e=this.getFileData(e),a=s.param(e),this.has("multiple")&&(acf.duplicate({target:i,append:this.proxy(function(e,t){e.after(t),t.find("input").val("")})}),i.hide()));n=acf.duplicate(n);acf.val(n.find('input[type="hidden"]'),a),this.updatePreview(n,t),this.has("basic")||this.render()},editFile:function(e,t){e=this.validateAttachment(e);t=this.$file(t),this.updatePreview(t,e)},updatePreview:function(e,t){e.find('[data-name="title"]').text(t.title),e.find('[data-name="filename"]').text(t.filename).attr("href",t.url),e.find('[data-name="filesize"]').text(t.filesizeHumanReadable)},getFileData:function(e){var t=e.val();if(!t)return!1;t={url:t},e=!!e[0].files.length&&acf.isget(e[0].files,0);return e&&(t.name=e.name,t.size=e.size,t.type=e.type),t},acfeBytesToSize:function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["bytes","KB","MB","GB","TB"][t]}}),acf.registerFieldType(e))}(jQuery),function(h){var o,d;"undefined"!=typeof acf&&(o=acf.models.FlexibleContentField,acf.models.FlexibleContentField=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.addEvents({"click [data-acfe-flexible-grid-col]":"acfeGridOnClickCol","click [data-acfe-flexible-grid-align]":"acfeGridOnClickAlign"}),this.acfeGridInit()},allowAdd:function(){return!1!==o.prototype.allowAdd.apply(this,arguments)&&!this.isFull()},isFull:function(){return!this.acfeHasAllowedLayout()||o.prototype.isFull.apply(this,arguments)},getPopupHTML:function(){var a,n,e=o.prototype.getPopupHTML.apply(this,arguments),e=h(e);return this.has("acfeFlexibleGrid")&&this.get("acfeFlexibleGridWrap")&&(n=(a=this).acfeGetAvailableCols(),e.find("[data-layout]").each(function(){var e=h(this),t=a.$clone(e.data("layout")),i=t.data("col"),t=t.data("allowed-col");i>a.acfeGetAvailableCols()&&(t=a.acfeGetMinAllowed(t),n<t&&e.addClass("disabled"))})),e.outerHTML()},onClickDuplicate:function(e,t){if(this.allowAdd()&&this.has("acfeFlexibleGrid")&&this.get("acfeFlexibleGridWrap")){var i=this.acfeGetAvailableCols(),a=t.closest(".layout"),n=a.data("col"),a=a.data("allowed-col");if(n>this.acfeGetAvailableCols())if(i<this.acfeGetMinAllowed(a)){i=acf.__("This field has a limit of {max} {label} {identifier}"),a=acf._n("layout","layouts",0);return i=(i=(i=i.replace("{max}","")).replace("{label}","")).replace("{identifier}",a),this.showNotice({text:i,type:"warning"}),!1}}return o.prototype.onClickDuplicate.apply(this,arguments)},acfeCountCols:function(){var t=0;return h.each(this.$layouts(),function(){var e="auto"===(e=this.getAttribute("data-col"))?1:parseInt(e);t+=e}),t},acfeGetAvailableCols:function(){return 12-this.acfeCountCols()},acfeHasAllowedLayout:function(){if(!this.get("acfeFlexibleGridWrap"))return!0;var t=this.acfeGetAvailableCols();if(!t)return!1;var i=this,a=!1;return h.each(this.$clones(),function(){var e=h(this).data("allowed-col");if(i.acfeGetMinAllowed(e)<=t)return!(a=!0)}),a},acfeGetMinAllowed:function(e){return e=e.map(function(e){return"auto"===e?"1":e}),Math.min.apply(Math,e)},acfeHasColAuto:function(){var e=!1;return h.each(this.$layouts(),function(){if("auto"===this.getAttribute("data-col"))return!(e=!0)}),e},acfeUpdateCol:function(e,t){e.removeClass(function(e,t){return(t.match(/(^|\s)col-\S+/g)||[]).join(" ")}).addClass("col-"+t),e.attr("data-col",t),this.render();e=e.find("> .acfe-flexible-layout-col");e.length&&e.val(t).change()},acfeUpdateAlign:function(e,t){e.removeClass(function(e,t){return(t.match(/(^|\s)align-\S+/g)||[]).join(" ")}).addClass("align-"+t),e.attr("data-align",t),this.render()},acfeGridInit:function(){this.has("acfeFlexibleGrid")&&this.acfeResizable(this.$layoutsWrap().find("> .layout"))},acfeResizable:function(e){var d=this;window.resizeWidth=0,window.resizeAxis=0;function f(e,t,i){return 1===e?i:(e--,acfe.inArray(acfe.parseString(e),t)?e:f(e,t,i))}function p(e,t,i){return 12===e?i:(e++,acfe.inArray(acfe.parseString(e),t)?e:p(e,t,i))}e.resizable({handles:"w, e",grid:[60,10],start:function(e,t){var i=h(this).data("ui-resizable").axis;window.resizeWidth=t.size.width,window.resizeAxis=i,t.element.addClass("ui-resizable-resizing-"+i),d.$layoutsWrap().addClass("resizing")},resize:function(e,t){var i=t.size.width>window.resizeWidth?">":"<";window.resizeWidth=t.size.width;var a=t.element,n=d.acfeCountCols(),o=a.attr("data-col"),s="auto"===o?1:parseInt(o),r="auto"===o?"auto":parseInt(o),l=a.data("allowed-col");"auto"===r&&(s=12-(n-1),n=12);var c,t=s;if(a.css("width","").css("left",""),"<"==i){if("auto"===r&&1===s)return!1;s=f(s,l,s)}else">"==i&&(s=p(s,l,s));d.get("acfeFlexibleGridWrap")?(12===n&&s!==t&&("e"===window.resizeAxis&&">"==i?c=a.next():"w"===window.resizeAxis&&">"==i&&(c=a.prev()),void 0!==c&&c.length&&("auto"===(o=c.attr("data-col"))&&(o=1),r=o=parseInt(o),l=c.data("allowed-col"),1<=(o=f(o,l,r))&&o!==r&&s+(n-t-o)<=12&&(d.acfeUpdateCol(c,o),d.acfeUpdateCol(a,s)))),1<=s&&s<=12&&s+(n-t)<=12&&(n<=11||"<"==i)&&d.acfeUpdateCol(a,s)):1<=s&&s<=12&&d.acfeUpdateCol(a,s)},stop:function(e,t){t.element.removeClass("ui-resizable-resizing-"+window.resizeAxis),d.$layoutsWrap().removeClass("resizing")}})},acfeGridOnClickCol:function(e,t){var i,a,n,o,s,r,l,c;this.has("acfeFlexibleGrid")&&(i=this,a=t.closest(".layout"),c=this.$(".tmpl-acfe-flexible-grid-popup:last").html(),n=h(c),o=this.acfeCountCols(),s=a.attr("data-col"),r=s,l=a.data("allowed-col"),"auto"===r&&(r=1),n.find("a").each(function(){var e=h(this),t=e.attr("data-col");t===s&&e.addClass("active"),l.length&&(acfe.inArray(t,l)||e.remove()),i.get("acfeFlexibleGridWrap")&&("auto"===t&&(t=1),12<o-r+parseInt(t)&&e.addClass("disabled"))}),c=n.outerHTML(),new d({target:t,targetConfirm:!1,text:c,context:this,confirm:function(e,t){t.hasClass("disabled")||this.acfeUpdateCol(a,t.attr("data-col"))}}).on("click","a","onConfirm"))},acfeGridOnClickAlign:function(e,t){var i,a;this.has("acfeFlexibleGrid")&&(i=t.closest(".layout"),a=this.$(".tmpl-acfe-flexible-grid-align:last").html(),new d({target:t,targetConfirm:!1,text:a,context:this,confirm:function(e,t){t.hasClass("disabled")||this.acfeUpdateAlign(i,t.attr("data-col"))}}).on("click","a","onConfirm"))}}),d=acf.models.TooltipConfirm.extend({render:function(){this.html(this.get("text")),this.$el.addClass("acf-fc-popup")}}),acf.addAction("append",function(e){var t;!e.is(".layout")||(t=acf.getInstance(e.closest(".acf-field-flexible-content"))).has("acfeFlexibleGrid")&&(e.removeClass("ui-resizable"),e.find(".ui-resizable-handle").remove(),t.acfeResizable(e))}),acf.addAction("after_duplicate",function(e,t){var i,a;!t.is(".layout")||void 0!==(i=acf.getInstance(e.closest(".acf-field-flexible-content")))&&i.has("acfeFlexibleGrid")&&i.get("acfeFlexibleGridWrap")&&(a=t.data("col"),e=t.data("allowed-col"),a>i.acfeGetAvailableCols()&&(a=i.acfeGetMinAllowed(e),acfe.inArray("auto",e)&&(a="auto"),i.acfeUpdateCol(t,a)))}))}(jQuery),jQuery,"undefined"!=typeof acf&&new acf.Model({actions:{google_map_init:"mapInit"},filters:{google_map_marker_args:"markerArgs",google_map_args:"mapArgs"},mapInit:function(e,t,i){google.maps.event.addListener(t,"click",function(e){i.onClickClear()})},markerArgs:function(e,t){if(!t.get("acfeMarker"))return e;t=t.get("acfeMarker");return t.width=parseInt(t.width),t.height=parseInt(t.height),e.icon={url:t.url,size:new google.maps.Size(t.width,t.height),scaledSize:new google.maps.Size(t.width,t.height)},e},mapArgs:function(e,t){return e.scrollwheel=!0,t.get("acfeZoom")&&(e.zoom=t.get("acfeZoom")),t.get("acfeMinZoom")&&(e.minZoom=t.get("acfeMinZoom")),t.get("acfeMaxZoom")&&(e.maxZoom=t.get("acfeMaxZoom")),t.get("acfeMapType")&&(e.mapTypeId=t.get("acfeMapType")),t.get("acfeDisableUi")&&(e.disableDefaultUI=!0),t.get("acfeDisableZoomControl")&&(e.zoomControl=!1,e.scrollwheel=!1),t.get("acfeDisableMapType")&&(e.mapTypeControl=!1),t.get("acfeDisableFullscreen")&&(e.fullscreenControl=!1),t.get("acfeDisableStreetview")&&(e.streetViewControl=!1),t.get("acfeStyle")&&(e.styles=t.get("acfeStyle")),e}}),function(t){var e;"undefined"!=typeof acf&&(e=acf.Field.extend({type:"acfe_image_selector",events:{'click input[type="radio"]':"onClickRadio",'click input[type="checkbox"]':"onClickCheckbox"},$control:function(){return this.$(".acfe-image-selector")},$input:function(){return this.$("input:checked")},getValue:function(){var e=this.$input().val();return this.get("multiple")&&(e=[],this.$input().each(function(){e.push(t(this).val())}),e=!!e.length&&e),e},onClickRadio:function(e,t){var i=t.closest("label"),a=i.hasClass("selected");this.$(".selected").removeClass("selected"),i.addClass("selected"),this.get("allow_null")&&a&&(i.removeClass("selected"),t.prop("checked",!1).trigger("change"))},onClickCheckbox:function(e,t){t=t.closest("label");t.hasClass("selected")?this.get("allow_null")||this.$input().length?t.removeClass("selected"):e.preventDefault():t.addClass("selected")}}),acf.registerFieldType(e))}(jQuery),function(t){var e,i,a;"undefined"!=typeof acf&&(a=(e=acf.models.SelectField).extend({wait:!1,type:"acfe_payment_selector_select",paymentField:!1,onChange:function(e,t){this.paymentField.switchGateway(this.val())},initialize:function(){e.prototype.initialize.apply(this,arguments),this.paymentField=acf.getField(this.get("paymentField")),this.paymentField.has("gateway")&&this.addEvents({change:"onChange"})}}),acf.registerFieldType(a),a=(i=acf.models.RadioField).extend({wait:!1,type:"acfe_payment_selector_radio",paymentField:!1,onChange:function(e,t){this.paymentField.switchGateway(this.val())},initialize:function(){i.prototype.initialize.apply(this,arguments),this.$(":radio").each(function(){var e=t(this);e.closest("li").addClass("-"+e.val())}),this.paymentField=acf.getField(this.get("paymentField")),this.paymentField.has("gateway")&&this.addEvents({change:"onChange"})}}),acf.registerFieldType(a),new acf.Model({filters:{"select2_args/type=acfe_payment_selector_select":"selectArgs"},selectArgs:function(e,t,i,a,n){return e.minimumResultsForSearch=-1,e}}))}(jQuery),function(r){var e,t;"undefined"!=typeof acf&&(e=acf.Field.extend({wait:!1,type:"acfe_payment",gateway:!1,selectors:[],events:{"click .acfe-payment-paypal-button":"onClickPaypal"},$control:function(){return this.$(".acfe-payment-wrap")},$button:function(){return this.$(".acfe-payment-button")},$buttonWrap:function(){return this.$(".acfe-payment-button-wrap")},$paypalButton:function(){return this.$(".acfe-payment-paypal-button")},$paypalWrap:function(){return this.$(".acfe-payment-paypal")},onClickPaypal:function(e,t){e.preventDefault()},hasGateway:function(e,t){t=!(t=t||!1)||1===this.get("gateways").length;return acfe.inArray(e,this.get("gateways"))&&t},getSelectors:function(){var t=this,i=[];return["acfe_payment_selector_radio","acfe_payment_selector_select"].map(function(e){acf.getFields({type:e}).map(function(e){e.get("paymentField")===t.get("key")&&i.push(e)})}),i},enableSelectors:function(){this.getSelectors().map(function(e){e.enable()})},disableSelectors:function(){this.getSelectors().map(function(e){e.disable()})},switchGateway:function(t){this.hasGateway(t)&&(this.$(".acfe-payment-gateway").addClass("acf-hidden"),this.val(""),this.set("gateway",t),this.$control().attr("data-gateway",t),this.getSelectors().map(function(e){e.val()!==t&&e.val(t)}),this.initialize())},initialize:function(){"stripe"===this.get("gateway")?(this.$button().length||this.show(),this.gateway=new t(this)):"paypal"===this.get("gateway")&&(this.$button().length||this.hide(),this.val("paypal"))}}),acf.registerFieldType(e),t=acf.Model.extend({field:!1,stripe:!1,card:!1,setup:function(e){this.$el=e.$el,this.field=e},$wrap:function(){return this.$(".acfe-payment-stripe")},onCardChange:function(e){e.complete?(this.field.val("valid"),this.field.removeError()):e.empty?(this.field.val(""),this.field.removeError()):e.error?(this.field.val("invalid"),this.field.showError(e.error.message)):e.complete||this.field.val("invalid")},initialize:function(){var t=this,e=this.$wrap();e.removeClass("acf-hidden"),this.stripe=Stripe(this.field.get("publicKey")),this.card=this.stripe.elements().create("card",{style:{base:{fontFamily:e.css("font-family"),color:e.css("color"),fontSize:e.css("font-size"),backgroundColor:e.css("background-color"),fontSmoothing:"antialiased","::placeholder":{color:"#3c434a"}},invalid:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',color:"#b32d2e",iconColor:"#b32d2e"}}}),this.card.mount(e[0]),this.card.on("change",function(e){t.onCardChange(e)})}}),new acf.Model({field:!1,$form:!1,validator:!1,event:!1,actions:{validation_begin:"onValidationBegin",validation_failure:"onValidationFailure",validation_success:"onValidationSuccess"},enableButton:function(){acf.enableSubmit(this.field.$button()),this.field.$button().removeAttr("disabled")},disableButton:function(){acf.disableSubmit(this.field.$button()),this.field.$button().attr("disabled",!0)},unlockForm:function(){this.enableButton(),this.validator.reset()},lockForm:function(){this.disableButton(),acf.lockForm(this.$form)},submitForm:function(){if(!this.event)return this.$form.submit();var e=r.Event(null,this.event);acf.enableSubmit(r(e.target)).trigger(e)},preventFormSubmit:function(){function e(e){e.preventDefault()}var t=this.$form,i=this.validator;t.on("submit",e),i.setTimeout(function(){t.off("submit",e)},300)},onValidationBegin:function(e){this.field=acf.getFields({type:"acfe_payment",limit:1}).shift(),this.field&&(this.$form=e,this.lockForm())},onValidationFailure:function(e,t){this.field&&(this.validator=t,this.enableButton())},onValidationSuccess:function(a,e){var n,o,t,i,s;this.field&&(this.validator=e,this.event=acf.validation.get("originalEvent"),"stripe"===(o=(n=this).field).get("gateway")?!o.has("required")&&""===o.val()||(this.preventFormSubmit(),t={action:"acfe/payment_request",gateway:"stripe",field_key:o.get("key"),fields:acf.serialize(a,"acf")},r.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"json",context:this,success:function(e){if(!e.success)return o.showError(e.data.error),void n.unlockForm();o.gateway.stripe.confirmCardPayment(e.data.secret,{payment_method:{card:o.gateway.card}}).then(function(e){e.error?(o.showError(e.error.message),n.unlockForm()):(n.lockForm(),e={action:"acfe/stripe_confirm",intent_id:e.paymentIntent.id,field_key:o.get("key"),fields:acf.serialize(a,"acf")},r.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(e),type:"post",dataType:"json",context:this,success:function(e){e.success?(o.val(e.data.response),n.submitForm()):(o.showError(e.data.error),n.unlockForm())}}))})}})):"paypal"===o.get("gateway")&&"paypal"===o.val()&&(this.preventFormSubmit(),t=o.$paypalButton(),i=o.$paypalWrap(),s=acf.isHidden(o.$el),paypal.checkout.setup(o.get("merchantId"),{buttons:[t[0]],environment:"sandbox",click:function(){paypal.checkout.reset(),paypal.checkout.initXO(),setTimeout(function(){n.unlockForm()},300),i.addClass("acf-hidden"),"firefox"===acf.get("browser")&&(o.$buttonWrap().show(),o.enableSelectors(),s&&o.hide());var e={action:"acfe/payment_request",gateway:"paypal",field_key:o.get("key"),fields:acf.serialize(a,"acf")};r.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(e),type:"post",dataType:"json",context:this,success:function(e){e.success?paypal.checkout.startFlow(e.data.url):(paypal.checkout.closeFlow(),o.showError(e.data.error)),window.addEventListener("hashchange",function(){var e=acfe.currentURL().split("#"),t="/"+e[1],i=acfe.parseURL(t);i.token&&i.PayerID?(window.history.replaceState({},document.title,e[0]),n.lockForm(),t={action:"acfe/paypal_confirm",token:i.token,payer_id:i.PayerID,field_key:o.get("key"),fields:acf.serialize(a,"acf")},r.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"json",context:this,success:function(e){e.success?(o.val(e.data.response),n.submitForm(a,event)):(o.showError(e.data.error),n.unlockForm())}})):i.token&&!i.PayerID&&(window.history.replaceState({},document.title,e[0]),o.showError("Payment canceled, please try again."),n.unlockForm())})}})}}),"firefox"!==acf.get("browser")?t[0].click():(o.$buttonWrap().hide(),i.removeClass("acf-hidden"),o.disableSelectors(),this.setTimeout(function(){acf.hideSpinner(acfe.findSpinner(this.$form))},300),s&&o.show())))}}))}(jQuery),function(d){var e;"undefined"!=typeof acf&&(e=acf.Field.extend({wait:!1,type:"acfe_phone_number",actions:{load:"delayedInitialize"},events:{'keyup input[type="tel"]':"onChange",'change input[type="tel"]':"onChange",'countrychange input[type="tel"]':"onChange"},$control:function(){return this.$(".acfe-phone-number")},$tel:function(){return this.$('input[type="tel"]')},getValue:function(){var e=this.$input().val();return!!e&&JSON.parse(e)},setValue:function(e,t){acf.val(this.$input(),e?JSON.stringify(e):"",t),t||(this.busy=!0,this.renderValue(e),this.busy=!1)},renderValue:function(e){var t;acf.val(this.$tel(),e?e.number:"",!0),"undefined"==typeof intlTelInputUtils||"string"==typeof(e=(t=this.get("iti")).getNumber(intlTelInputUtils.numberFormat.E164))&&t.setNumber(e)},onChange:function(){this.busy||this.setValue(this.getItiData())},getItiData:function(){if("undefined"!=typeof intlTelInputUtils){var e=this.get("iti"),t=e.getNumber(intlTelInputUtils.numberFormat.E164),e=e.getSelectedCountryData().iso2||"";return t?{number:t,country:e}:""}},initialize:function(){"block"!==acf.get("editor")&&this.render()},delayedInitialize:function(){"block"===acf.get("editor")&&this.render()},render:function(){var e=this,i=this.get("countries")||[],a=this.get("preferred_countries")||[],t=this.get("default_country")||"",n=this.get("placeholder")||"";a.length&&i.length&&a.map(function(e){acfe.inArray(e,i)||i.push(e)}),t&&i.length&&!acfe.inArray(t,i)&&(t=i[0],a.length&&(t=a[0]));var o={excludeCountries:["ac","io","gg","mf","sj","ax"],utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js"};if(o.onlyCountries=i,o.initialCountry=t,o.preferredCountries=a,o.localizedCountries={},o.allowDropdown=this.get("dropdown")||!1,o.separateDialCode=this.get("dial_code")||!1,o.nationalMode=this.get("national")||!1,o.autoPlaceholder="aggressive",o.customPlaceholder=function(e,t){return acf.strReplace("{placeholder}",e,n)},this.get("native"))for(var s=window.intlTelInputGlobals.getCountryData(),r=0;r<s.length;r++){var l=s[r];o.localizedCountries[l.iso2]=l.name.replace(/.+\((.+)\)/,"$1")}this.get("geolocation")&&(o.initialCountry="auto",o.geoIpLookup=function(t,e){d.ajax({url:"https://ipinfo.io/",data:!1,method:"get",dataType:"json"}).always(function(e){e=e&&e.country?e.country.toLowerCase():"";e?i.length&&!acfe.inArray(e,i)&&(e=i[0],a.length&&(e=a[0])):(e="us",a.length?e=a[0]:i.length&&(e=i[0])),t(e)})});var c=this.$tel()[0],t=window.intlTelInput(c,o);this.set("iti",t),t.promise.then(function(){e.itiInitialize()}),c.addEventListener("open:countrydropdown",function(){e.resizeDropdown()}),d(window).on("resize",function(){e.resizeDropdown()})},itiInitialize:function(){this.$tel().val()&&this.setValue(this.getItiData(),!0)},resizeDropdown:function(){var e=this.$tel().outerWidth();0===e&&(e=350),this.$(".iti__country-list").width(e)}}),acf.registerFieldType(e),new acf.Model({filters:{validation_complete:"validationComplete"},validationComplete:function(i,e,t){e=acf.getFields({type:"acfe_phone_number",parent:e});if(!e.length)return i;var a=[acf.get("phoneNumberL10n").invalidPhoneNumber,acf.get("phoneNumberL10n").invalidCountry,acf.get("phoneNumberL10n").phoneNumberTooShort,acf.get("phoneNumberL10n").phoneNumberTooLong,acf.get("phoneNumberL10n").invalidPhoneNumber];return d.each(e,function(){var e=this.get("iti"),t=e.getSelectedCountryData();!this.val()||e.isValidNumber()&&t.iso2||(t=e.getValidationError(),e=this.getInputName(),t=a[t]||acf.get("phoneNumberL10n").invalidPhoneNumber,i.valid=0,i.errors=i.errors||[],i.errors.push({input:e,message:t}))}),i}}))}(jQuery),function(h){var e;"undefined"!=typeof acf&&(e=acf.Field.extend({wait:!1,type:"acfe_post_field",initialize:function(){var e=acf.strCamelCase("move_"+this.get("fieldType"));void 0!==this[e]&&this[e]()},checkMiscActions:function(){var e=h("#minor-publishing");e.text().trim().length||e.hide()},checkField:function(e,t){t=t||1;var i=e,e=i.parent().hasClass("acf-input");return 2===t&&(e=i.parent().parent().hasClass("acf-input")),!i.length||e?(this.$el.remove(),!1):i.appendTo(this.$inputWrap())},moveAttributes:function(){this.checkField(h("#pageparentdiv > .inside"))&&(h("#pageparentdiv").remove(),h('.metabox-prefs > label[for="pageparentdiv-hide"]').remove())},moveAuthor:function(){var e="acfe",t=h("#acfe-author > .inside");t.length||(e="wp",t=h("#authordiv > .inside")),this.checkField(t)&&("acfe"===e?(h("#acfe-author").remove(),h('.metabox-prefs > label[for="acfe-author-hide"]').remove()):(h("#authordiv").remove(),h('.metabox-prefs > label[for="authordiv-hide"]').remove()))},moveComments:function(){var e=this.checkField(h("#commentsdiv > .inside"),2);e&&(e.wrapAll('<div id="commentsdiv" />'),h("#normal-sortables > #commentsdiv").remove(),h('.metabox-prefs > label[for="commentsdiv-hide"]').remove())},moveContent:function(){this.checkField(h("#postdivrich"))&&this.addEvents({showField:"reinitContent"})},reinitContent:function(){var e;!window.tinymce||(e=window.tinymce.get("content"))&&e.fire("show")},moveDate:function(){this.checkField(h(".misc-pub-curtime"))&&this.checkMiscActions()},moveDiscussion:function(){this.checkField(h("#commentstatusdiv > .inside"))&&(h("#commentstatusdiv").remove(),h('.metabox-prefs > label[for="commentstatusdiv-hide"]').remove())},moveExcerpt:function(){this.checkField(h("#postexcerpt > .inside"))&&(h("#postexcerpt").remove(),h('.metabox-prefs > label[for="postexcerpt-hide"]').remove())},moveFeaturedImage:function(){var e=this.checkField(h("#postimagediv > .inside"),2);e&&(e.wrapAll('<div id="postimagediv" />'),h("#side-sortables > #postimagediv").remove(),h('.metabox-prefs > label[for="postimagediv-hide"]').remove())},moveName:function(){this.checkField(h("#slugdiv > .inside"))&&(h("#slugdiv").remove(),h('.metabox-prefs > label[for="slugdiv-hide"]').remove())},movePermalink:function(){var e=this.checkField(h("#edit-slug-box"));e&&(e.find("> strong").remove(),h("#samplepermalinknonce").appendTo(this.$inputWrap()),this.addEvents({"click .edit-slug":"onClickPermalink"}))},onClickPermalink:function(){var e,t,i,a=0,n=h("#post_ID").val()||0,o=h("#post_name"),s=o.val(),r=h("#sample-permalink"),l=r.html(),c=h("#sample-permalink a").html(),d=h("#edit-slug-buttons"),f=d.html(),p=h("#editable-post-name-full");for(p.find("img").replaceWith(function(){return this.alt}),p=p.html(),r.html(c),t=h("#editable-post-name"),i=t.html(),d.html('<button type="button" class="save button button-small">'+acf.__("OK")+'</button> <button type="button" class="cancel button-link">'+acf.__("Cancel")+"</button>"),d.children(".save").click(function(){var i=t.children("input").val();i!=h("#editable-post-name-full").text()?h.post(ajaxurl,{action:"sample-permalink",post_id:n,new_slug:i,new_title:h("#title").val(),samplepermalinknonce:h("#samplepermalinknonce").val()},function(e){var t=h("#edit-slug-box");t.html(e),t.find("> strong").remove(),t.hasClass("hidden")&&t.fadeIn("fast",function(){t.removeClass("hidden")}),d.html(f),r.html(l),o.val(i),h(".edit-slug").focus(),wp.a11y.speak(postL10n.permalinkSaved)}):d.children(".cancel").click()}),d.children(".cancel").click(function(){h("#view-post-btn").show(),t.html(i),d.html(f),r.html(l),o.val(s),h(".edit-slug").focus()}),e=0;e<p.length;++e)"%"==p.charAt(e)&&a++;c=a>p.length/4?"":p,t.html('<input type="text" id="new-post-slug" value="'+c+'" autocomplete="off" />').children("input").keydown(function(e){var t=e.which;13===t&&(e.preventDefault(),d.children(".save").click()),27===t&&d.children(".cancel").click()}).keyup(function(){o.val(this.value)}).focus()},movePreview:function(){this.checkField(h("#preview-action"))&&this.checkMiscActions()},moveRevisions:function(){this.checkField(h(".misc-pub-revisions"))&&this.checkMiscActions()},moveRevisionsList:function(){this.checkField(h("#revisionsdiv > .inside"))&&(h("#revisionsdiv").remove(),h('.metabox-prefs > label[for="revisionsdiv-hide"]').remove())},moveStatus:function(){this.checkField(h(".misc-pub-post-status"))&&this.checkMiscActions()},moveTaxonomy:function(){this.get("taxonomy");var e=this.get("taxonomySelector"),t=this.checkField(h("#"+e+" > .inside"));t&&(t.attr("id",e),h("#"+e).remove(),h('.metabox-prefs > label[for="'+e+'-hide"]').remove())},moveTitle:function(){this.checkField(h("#titlediv > #titlewrap > #title"))},moveTrackbacks:function(){this.checkField(h("#trackbacksdiv > .inside"))&&(h("#trackbacksdiv").remove(),h('.metabox-prefs > label[for="trackbacksdiv-hide"]').remove())},moveVisibility:function(){this.checkField(h(".misc-pub-visibility"))&&this.checkMiscActions()}}),acf.registerFieldType(e))}(jQuery),function(o){var i,e,a,n,t;"undefined"!=typeof acf&&(i=acf.models.RelationshipField,acf.models.RelationshipField=i.extend({setup:function(){i.prototype.setup.apply(this,arguments),this.prepareWrap()},initialize:function(){i.prototype.initialize.apply(this,arguments),this.addEvents({"click a.add-post":"onClickAddPost","click a.edit-post":"onClickEditPost"}),this.addActions({"acfe/relationship/add_post":"doAddPost","acfe/relationship/edit_post":"doEditPost"})},prepareWrap:function(){this.has("acfeAddPost")&&(this.$el.find(".filters").addClass("-add-post"),this.$el.find(".filters").append(this.$el.find(".filter.-add-post"))),this.has("acfeEditPost")&&this.$listItems("values").append('<a href="#" class="acf-icon -pencil small dark edit-post"></a>')},newValue:function(e){var t=i.prototype.newValue.apply(this,arguments);if(!this.has("acfeEditPost"))return t;t=o("<div>"+t+"</div>");return t.find(".-pencil").remove(),t.find("span").append('<a href="#" class="acf-icon -pencil small dark edit-post"></a>'),t.html()},walkChoices:function(e){var t=i.prototype.walkChoices.apply(this,arguments);if(!this.has("acfeEditPost"))return t;t=o("<div>"+t+"</div>");return t.find(".acf-rel-item").append('<a href="#" class="acf-icon -pencil small grey edit-post"></a>'),t.html()},onClickAddPost:function(e,t){e.preventDefault();var i=this;if("#"!==t.attr("href"))return new a({field:i,url:t.attr("href")});new n({target:t,targetConfirm:!1,text:this.$(".acfe-relationship-popup:last").html(),context:this,confirm:function(e,t){new a({field:i,url:t.attr("href")})}})},onClickEditPost:function(e,t){e.preventDefault(),e.stopPropagation();t=t.closest("span").attr("data-id"),t=acf.get("admin_url")+"post.php?post="+t+"&action=edit";new a({field:this,url:t,relation:"edit"})},doAddPost:function(e,t,i){var a;this.has("acfeAddPost")&&this.cid===e&&(t={action:"acfe/relationship/add_post",pid:t,field_key:(a=this).get("key")},o.ajax({url:acf.get("ajaxurl"),dataType:"html",type:"post",data:acf.prepareForAjax(t),context:this,success:function(e){e&&a.onClickAdd("",o(e))},complete:function(e){a.fetch()}}),acfe.closePopup())},doEditPost:function(e,t,i){var a,n;this.has("acfeEditPost")&&this.cid===e&&((n=(a=this).$listItem("values",t)).length?(e={action:"acfe/relationship/add_post",pid:t,field_key:a.get("key")},o.ajax({url:acf.get("ajaxurl"),dataType:"html",type:"post",data:acf.prepareForAjax(e),context:this,success:function(e){e&&(e=this.newValue({id:t,text:e}),n.parent().replaceWith(e),this.$input().trigger("change"))},complete:function(e){a.fetch()}})):a.fetch(),acfe.closePopup())}}),e=acf.models.PostObjectField,acf.models.PostObjectField=e.extend({setup:function(){e.prototype.setup.apply(this,arguments),this.addFilter("select2_args","selectArgs")},initialize:function(){e.prototype.initialize.apply(this,arguments),this.addEvents({"click a.add-post":"onClickAddPost","click a.edit-post":"onClickEditPost"}),this.addActions({"acfe/relationship/add_post":"doAddPost","acfe/relationship/edit_post":"doEditPost"}),this.addUnscopedEvents(this)},addUnscopedEvents:function(i){this.select2.on("select2:selecting",function(e){var t=e.params.args.originalEvent.target,t=o(t);t.hasClass("edit-post")&&i.onClickEditPost(e,t)})},onClickAddPost:function(e,t){e.preventDefault();var i=this;if("#"!==t.attr("href"))return new a({field:i,url:t.attr("href")});new n({target:t,targetConfirm:!1,text:this.$(".acfe-relationship-popup:last").html(),context:this,confirm:function(e,t){new a({field:i,url:t.attr("href")})}})},onClickEditPost:function(e,t){this.select2.$el.select2("close"),e.preventDefault(),e.stopPropagation(),t.data("id")&&(t=acf.get("admin_url")+"post.php?post="+t.data("id")+"&action=edit",new a({field:this,url:t,relation:"edit"}))},selectArgs:function(e,t,i,a,n){if(!this.has("acfeEditPost")||this.cid!==a.cid)return e;a=function(e){return e.id?e.text+' <a href="#" class="acf-icon -pencil small grey edit-post" data-id="'+e.id+'"></a>':e.text};return e.templateSelection=a,e.templateResult=a,e},doAddPost:function(e,t,i){this.has("acfeAddPost")&&this.cid===e&&(this.select2.addOption({id:t,text:i,selected:!0}),acfe.closePopup())},doEditPost:function(e,i,a){var n;this.has("acfeEditPost")&&this.cid===e&&(n=this.select2.$el.select2("data"),o.each(n,function(e,t){return t.id!==i||(n[e].text=a,!1)}),this.select2.$el.trigger("change"),acfe.closePopup())}}),a=acf.Model.extend({data:{field:!1,url:!1,relation:"add"},setup:function(e){o.extend(this.data,e)},initialize:function(){var e=new URL(this.get("url"));e.searchParams.append("relation",this.get("relation")),e.searchParams.append("cid",this.get("field").cid);var t=o('<div class="acfe-modal -iframe"><iframe src="'+e+'" style="width:100%;max-height: 100%;height: 850px;border:0;" /></div>').appendTo("body"),e=this.get("field").$labelWrap().find(">label").text()||this.get("relation");new acfe.Popup(t,{title:e,size:"xlarge",destroy:!0})}}),n=acf.models.TooltipConfirm.extend({events:{"click a":"onConfirm"},render:function(){this.html(this.get("text")),this.$el.addClass("acf-fc-popup")}}),t=acf.Model.extend({data:{cid:!1,relation:!1},getPostID:function(){var e=o('form#post input[name="post_ID"]');return 1===e.length&&""!==e.val()&&e.val()},getPostTitle:function(){var e=o('form#post input[name="post_title"]');return 1===e.length&&""!==e.val()&&e.val()},isGutenberg:function(){return o("body").hasClass("block-editor-page")&&"undefined"!=typeof wp&&void 0!==wp.blocks},setup:function(){var e=acfe.parseURL(window.parent.window.jQuery("body .acfe-modal iframe").attr("src"));o.extend(this.data,e)},actions:{prepare:"onPrepare"},initialize:function(){o("html").addClass("acfe-hide-wp")},onPrepare:function(){var i,a=this;this.isGutenberg()?i=wp.data.subscribe(function(){var e,t=wp.data.select("core/notices").getNotices();t.length&&"SAVE_POST_NOTICE_ID"===t[0].id&&"success"===t[0].status&&(t=(e=wp.data.select("core/editor")).getCurrentPostId(),e=e.getEditedPostAttribute("title"),a.saveGutenberg(t,e),i())}):"post.php"===acfe.currentFilename()?"edit"===this.get("relation")&&!o(".updated.notice.notice-success").length||window.parent.acf.doAction("acfe/relationship/"+this.get("relation")+"_post",this.get("cid"),this.getPostID(),this.getPostTitle()):"media-new.php"===acfe.currentFilename()&&o("body").on("DOMSubtreeModified","#media-items",function(){var e,t=o("body").find("#media-items > .media-item > a.edit-attachment");t.length&&(e=t.parent().find("> .filename > .title").text(),t=t.attr("href"),(t=acfe.parseURL(t)).post&&window.parent.acf.doAction("acfe/relationship/"+a.get("relation")+"_post",a.get("cid"),t.post,e))})},saveGutenberg:function(e,t){var i=this;setInterval(function(){window.parent.acf.doAction("acfe/relationship/"+i.get("relation")+"_post",i.get("cid"),e,t)},1500)}}),void 0!==window.parent&&window.parent.window!==window&&void 0!==window.parent.window.jQuery&&1===parent.window.jQuery("body .acfe-modal iframe").length&&new t)}(jQuery),jQuery,"undefined"!=typeof acf&&new acf.Model({actions:{"new_field/type=wysiwyg":"newEditor",wysiwyg_tinymce_init:"editorInit"},filters:{wysiwyg_tinymce_settings:"editorSettings"},newEditor:function(e){var t;e.has("acfeWysiwygAutoresize")&&e.has("acfeWysiwygMinHeight")?((t=e.get("acfeWysiwygMinHeight"))<80&&(t=80),e.$input().css("height",t)):e.has("acfeWysiwygHeight")&&((t=e.get("acfeWysiwygHeight"))<80&&(t=80),e.$input().css("height",t))},editorSettings:function(e,t,i){var a,n;return i.has("acfeWysiwygAutoresize")?(e.wp_autoresize_on=!0,i.has("acfeWysiwygMinHeight")&&(e.autoresize_min_height=i.get("acfeWysiwygMinHeight")),i.has("acfeWysiwygMaxHeight")&&(i.has("acfeWysiwygMinHeight")||(e.autoresize_min_height=i.get("acfeWysiwygMaxHeight")),e.autoresize_max_height=i.get("acfeWysiwygMaxHeight"))):i.has("acfeWysiwygHeight")&&(a=i.get("acfeWysiwygHeight"),e.min_height=a,e.height=a),i.has("acfeWysiwygValidElements")&&(e.valid_elements=i.get("acfeWysiwygValidElements")),i.has("acfeWysiwygRemovePath")&&(e.elementpath=!1),i.has("acfeWysiwygDisableResize")&&(e.resize=!1),i.has("acfeWysiwygRemovePath")&&i.has("acfeWysiwygDisableResize")&&(e.statusbar=!1),i.has("acfeWysiwygMenubar")&&(e.menubar=!0),i.has("acfeWysiwygCustomToolbar")&&i.has("acfeWysiwygCustomToolbarButtons")&&(a=i.get("acfeWysiwygCustomToolbarButtons"),e.toolbar1=a[1].join(","),e.toolbar2=a[2].join(","),e.toolbar3=a[3].join(","),e.toolbar4=a[4].join(",")),i.has("acfeWysiwygMergeToolbar")&&(e.toolbar2&&(e.toolbar1+=","+e.toolbar2),e.toolbar3&&(e.toolbar1+=","+e.toolbar3),e.toolbar4&&(e.toolbar1+=","+e.toolbar4),e.toolbar2="",e.toolbar3="",e.toolbar4=""),(i.has("acfeWysiwygToolbarSourceCode")||i.has("acfeWysiwygToolbarWpMedia"))&&(e.toolbar1+=",|",i.has("acfeWysiwygToolbarSourceCode")&&(e.toolbar1+=",source_code"),i.has("acfeWysiwygToolbarWpMedia")&&(e.toolbar1+=",wp_add_media")),i.has("acfeWysiwygDisableWpStyle")&&(n=(n=(n=(n=e.content_css).split(",")).filter(function(e){return!e.match("/wp-includes/")})).join(","),e.content_css=n,e.init_instance_callback=function(e){for(var t=e.getDoc().getElementsByTagName("link"),i=0;i<t.length;i++)-1!==t[i].href.indexOf("skins/lightgray/content.min.css")&&t[i].remove()}),i.has("acfeWysiwygCustomStyle")&&(n=(n=i.get("acfeWysiwygCustomStyle")).join(","),e.content_css.length&&(n=e.content_css+","+n),e.content_css=n),e},editorInit:function(e,t,i,a){var n;a.has("acfeWysiwygHeight")&&(n=a.get("acfeWysiwygHeight"),a.$el.find("iframe").css({"min-height":n,height:n}))}}),jQuery,"undefined"!=typeof acf&&(acf.registerConditionForFieldType("equalTo","acfe_block_types"),acf.registerConditionForFieldType("notEqualTo","acfe_block_types"),acf.registerConditionForFieldType("patternMatch","acfe_block_types"),acf.registerConditionForFieldType("contains","acfe_block_types"),acf.registerConditionForFieldType("hasValue","acfe_block_types"),acf.registerConditionForFieldType("hasNoValue","acfe_block_types"),acf.registerConditionForFieldType("equalTo","color_picker"),acf.registerConditionForFieldType("notEqualTo","color_picker"),acf.registerConditionForFieldType("patternMatch","color_picker"),acf.registerConditionForFieldType("contains","color_picker"),acf.registerConditionForFieldType("equalTo","acfe_countries"),acf.registerConditionForFieldType("notEqualTo","acfe_countries"),acf.registerConditionForFieldType("patternMatch","acfe_countries"),acf.registerConditionForFieldType("contains","acfe_countries"),acf.registerConditionForFieldType("hasValue","acfe_countries"),acf.registerConditionForFieldType("hasNoValue","acfe_countries"),acf.registerConditionForFieldType("equalTo","acfe_currencies"),acf.registerConditionForFieldType("notEqualTo","acfe_currencies"),acf.registerConditionForFieldType("patternMatch","acfe_currencies"),acf.registerConditionForFieldType("contains","acfe_currencies"),acf.registerConditionForFieldType("hasValue","acfe_currencies"),acf.registerConditionForFieldType("hasNoValue","acfe_currencies"),acf.registerConditionForFieldType("equalTo","acfe_date_range_picker"),acf.registerConditionForFieldType("notEqualTo","acfe_date_range_picker"),acf.registerConditionForFieldType("patternMatch","acfe_date_range_picker"),acf.registerConditionForFieldType("contains","acfe_date_range_picker"),acf.registerConditionForFieldType("hasValue","acfe_date_range_picker"),acf.registerConditionForFieldType("hasNoValue","acfe_date_range_picker"),acf.registerConditionForFieldType("equalTo","acfe_field_groups"),acf.registerConditionForFieldType("notEqualTo","acfe_field_groups"),acf.registerConditionForFieldType("patternMatch","acfe_field_groups"),acf.registerConditionForFieldType("contains","acfe_field_groups"),acf.registerConditionForFieldType("hasValue","acfe_field_groups"),acf.registerConditionForFieldType("hasNoValue","acfe_field_groups"),acf.registerConditionForFieldType("equalTo","acfe_field_types"),acf.registerConditionForFieldType("notEqualTo","acfe_field_types"),acf.registerConditionForFieldType("patternMatch","acfe_field_types"),acf.registerConditionForFieldType("contains","acfe_field_types"),acf.registerConditionForFieldType("hasValue","acfe_field_types"),acf.registerConditionForFieldType("hasNoValue","acfe_field_types"),acf.registerConditionForFieldType("equalTo","acfe_fields"),acf.registerConditionForFieldType("notEqualTo","acfe_fields"),acf.registerConditionForFieldType("patternMatch","acfe_fields"),acf.registerConditionForFieldType("contains","acfe_fields"),acf.registerConditionForFieldType("hasValue","acfe_fields"),acf.registerConditionForFieldType("hasNoValue","acfe_fields"),acf.registerConditionForFieldType("equalTo","acfe_image_selector"),acf.registerConditionForFieldType("notEqualTo","acfe_image_selector"),acf.registerConditionForFieldType("patternMatch","acfe_image_selector"),acf.registerConditionForFieldType("contains","acfe_image_selector"),acf.registerConditionForFieldType("hasValue","acfe_image_selector"),acf.registerConditionForFieldType("hasNoValue","acfe_image_selector"),acf.registerConditionForFieldType("equalTo","acfe_image_sizes"),acf.registerConditionForFieldType("notEqualTo","acfe_image_sizes"),acf.registerConditionForFieldType("patternMatch","acfe_image_sizes"),acf.registerConditionForFieldType("contains","acfe_image_sizes"),acf.registerConditionForFieldType("hasValue","acfe_image_sizes"),acf.registerConditionForFieldType("hasNoValue","acfe_image_sizes"),acf.registerConditionForFieldType("equalTo","acfe_languages"),acf.registerConditionForFieldType("notEqualTo","acfe_languages"),acf.registerConditionForFieldType("patternMatch","acfe_languages"),acf.registerConditionForFieldType("contains","acfe_languages"),acf.registerConditionForFieldType("hasValue","acfe_languages"),acf.registerConditionForFieldType("hasNoValue","acfe_languages"),acf.registerConditionForFieldType("equalTo","acfe_menu_locations"),acf.registerConditionForFieldType("notEqualTo","acfe_menu_locations"),acf.registerConditionForFieldType("patternMatch","acfe_menu_locations"),acf.registerConditionForFieldType("contains","acfe_menu_locations"),acf.registerConditionForFieldType("hasValue","acfe_menu_locations"),acf.registerConditionForFieldType("hasNoValue","acfe_menu_locations"),acf.registerConditionForFieldType("equalTo","acfe_menus"),acf.registerConditionForFieldType("notEqualTo","acfe_menus"),acf.registerConditionForFieldType("patternMatch","acfe_menus"),acf.registerConditionForFieldType("contains","acfe_menus"),acf.registerConditionForFieldType("hasValue","acfe_menus"),acf.registerConditionForFieldType("hasNoValue","acfe_menus"),acf.registerConditionForFieldType("equalTo","acfe_options_pages"),acf.registerConditionForFieldType("notEqualTo","acfe_options_pages"),acf.registerConditionForFieldType("patternMatch","acfe_options_pages"),acf.registerConditionForFieldType("contains","acfe_options_pages"),acf.registerConditionForFieldType("hasValue","acfe_options_pages"),acf.registerConditionForFieldType("hasNoValue","acfe_options_pages"),acf.registerConditionForFieldType("equalTo","acfe_payment_cart"),acf.registerConditionForFieldType("notEqualTo","acfe_payment_cart"),acf.registerConditionForFieldType("patternMatch","acfe_payment_cart"),acf.registerConditionForFieldType("contains","acfe_payment_cart"),acf.registerConditionForFieldType("hasValue","acfe_payment_cart"),acf.registerConditionForFieldType("hasNoValue","acfe_payment_cart"),acf.registerConditionForFieldType("equalTo","acfe_payment_selector"),acf.registerConditionForFieldType("notEqualTo","acfe_payment_selector"),acf.registerConditionForFieldType("patternMatch","acfe_payment_selector"),acf.registerConditionForFieldType("contains","acfe_payment_selector"),acf.registerConditionForFieldType("hasValue","acfe_payment_selector"),acf.registerConditionForFieldType("hasNoValue","acfe_payment_selector"),acf.registerConditionForFieldType("equalTo","acfe_payment_selector_radio"),acf.registerConditionForFieldType("notEqualTo","acfe_payment_selector_radio"),acf.registerConditionForFieldType("patternMatch","acfe_payment_selector_radio"),acf.registerConditionForFieldType("contains","acfe_payment_selector_radio"),acf.registerConditionForFieldType("hasValue","acfe_payment_selector_radio"),acf.registerConditionForFieldType("hasNoValue","acfe_payment_selector_radio"),acf.registerConditionForFieldType("equalTo","acfe_payment_selector_select"),acf.registerConditionForFieldType("notEqualTo","acfe_payment_selector_select"),acf.registerConditionForFieldType("patternMatch","acfe_payment_selector_select"),acf.registerConditionForFieldType("contains","acfe_payment_selector_select"),acf.registerConditionForFieldType("hasValue","acfe_payment_selector_select"),acf.registerConditionForFieldType("hasNoValue","acfe_payment_selector_select"),acf.registerConditionForFieldType("equalTo","acfe_templates"),acf.registerConditionForFieldType("notEqualTo","acfe_templates"),acf.registerConditionForFieldType("patternMatch","acfe_templates"),acf.registerConditionForFieldType("contains","acfe_templates"),acf.registerConditionForFieldType("hasValue","acfe_templates"),acf.registerConditionForFieldType("hasNoValue","acfe_templates")),jQuery,"undefined"!=typeof acf&&new acf.Model({actions:{"show_field/type=acfe_field_group_condition":"showPostbox","hide_field/type=acfe_field_group_condition":"hidePostbox"},showPostbox:function(e){var t=e.$el.closest(".acf-postbox"),t=acf.getPostbox(t);t?t.showEnable():((e=e.$el.closest(".form-table")).show(),e.prev("h2").show(),acf.enable(e,"postbox"))},hidePostbox:function(e){var t=e.$el.closest(".acf-postbox"),t=acf.getPostbox(t);t?t.hideDisable():((e=e.$el.closest(".form-table")).hide(),e.prev("h2").hide(),acf.disable(e,"postbox"))}}),jQuery,"undefined"!=typeof acf&&new acf.Model({priority:15,field:!1,placement:!1,actions:{new_field:"newField"},newField:function(e){(this.field=e).has("instructionMore")&&this.readMore()},readMore:function(){var t=this.$getInstruction();if(t){if("tooltip"===this.placement)return e=(e=(e=t.attr("title")).replaceAll(/---(.*)---/g,"")).replaceAll("---",""),void t.attr("title",e);var e=t.html(),i=acf.__("Read more"),a=/---(.*)---/g;a.test(e)&&(i=(i=e.match(a)[0]).replaceAll("---",""),e=e.replaceAll(a,"---")),-1<e.indexOf("---")&&(e=(a=e.split("---")).shift(),a=a.join(""),t.html(e+' <a href="#" data-name="read-more">'+i+'</a><span class="more">'+a+"</span>"),t.on("click",'[data-name="read-more"]',function(e){e.preventDefault(),this.remove(),t.find(">.more").show()}))}},getPlacement:function(){var e=!1;return this.field.$labelWrap().find(">.description").length?e="label":this.field.$inputWrap().find(">.description:first-child").length?e="above_field":this.field.$inputWrap().find(">.description:last-child").length?e="field":this.field.$labelWrap().find(">.acfe-field-tooltip").length&&(e="tooltip"),this.placement=e,this.placement},$getInstruction:function(){var e=this.getPlacement();return"label"===e?this.field.$labelWrap().find(">.description"):"above_field"===e?this.field.$inputWrap().find(">.description:first-child"):"field"===e?this.field.$inputWrap().find(">.description:last-child"):"tooltip"===e&&this.field.$labelWrap().find(">.acfe-field-tooltip")}});