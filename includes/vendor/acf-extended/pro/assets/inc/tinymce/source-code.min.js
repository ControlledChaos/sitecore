tinymce.PluginManager.add("source_code",function(c,e){function o(){var e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils").DOM.getViewPort(),o=c.windowManager.open({title:"Source Code",url:acfe.get("home_url")+"/?acfe_wysiwyg_source_code=1",minWidth:Math.min(e.w-200,600),minHeight:Math.min(e.h-200,500),width:950,height:600,resizable:!0,maximizable:!0,fullScreen:!1,buttons:[{text:"Apply",subtype:"primary",onclick:function(){document.querySelectorAll(".mce-container-body > iframe")[0].contentWindow.submit(),o.close()}},{text:"Cancel",onclick:"close"}]})}c.addButton("source_code",{title:"Source Code",icon:"wp_code",onclick:o}),c.addMenuItem("source_code",{icon:"wp_code",text:"Source Code",context:"tools",onclick:o}),document.onkeydown=function(e){var o=!1,o=27===(e=e||window.event).keyCode;(o="key"in e?"Escape"===e.key||"Esc"===e.key:o)&&c.windowManager.close()}});