(function(t,e){var a={cache:function(){a.els={},a.vars={},a.els.tab_links=t(".wpsf-tab-link")},on_ready:function(){a.cache(),a.trigger_dynamic_fields(),a.setup_groups(),a.tabs.watch()},trigger_dynamic_fields:function(){a.setup_timepickers(),a.setup_datepickers()},tabs:{watch:function(){var e=a.tabs.get_tab_id();e&&a.tabs.set_active_tab(e),a.els.tab_links.on("click",function(e){var r=t(this).attr("href");a.tabs.set_active_tab(r),e.preventDefault()})},has_storage:"undefined"!=typeof Storage,set_tab_id:function(t){a.tabs.has_storage&&localStorage.setItem(a.tabs.get_option_page()+"_wpsf_tab_id",t)},get_tab_id:function(){return!!a.tabs.has_storage&&localStorage.getItem(a.tabs.get_option_page()+"_wpsf_tab_id")},set_active_tab:function(e){var r=t(e);r.length<=0||(a.els.tab_links.removeClass("nav-tab-active"),t('a[href="'+e+'"]').addClass("nav-tab-active"),t(".wpsf-tab").removeClass("wpsf-tab--active"),r.addClass("wpsf-tab--active"),a.tabs.set_tab_id(e))},get_option_page:function(){return t('input[name="option_page"]').val()}},setup_timepickers:function(){t(".timepicker").not(".hasTimepicker").each(function(){var e=t(this).data("timepicker");t(this).timepicker(e)})},setup_datepickers:function(){t(e).on("focus",".datepicker:not(.hasTimepicker)",function(){var e=t(this).data("datepicker");t(this).datepicker(e)})},setup_groups:function(){a.reindex_groups(),t(e).on("click",".wpsf-group__row-add",function(){var e=t(this).closest(".wpsf-group"),r=t(this).closest(".wpsf-group__row"),i=t(this).data("template"),n=t(t("#"+i).html());return n.find(".wpsf-group__row-id").val(a.generate_random_id()),r.after(n),a.reindex_group(e),a.trigger_dynamic_fields(),!1}),t(e).on("click",".wpsf-group__row-remove",function(){var t=jQuery(this).closest(".wpsf-group"),e=jQuery(this).closest(".wpsf-group__row");return e.remove(),a.reindex_group(t),!1})},generate_random_id:function(){return(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)},reindex_groups:function(){var t=jQuery(".wpsf-group");t.length<=0||t.each(function(t,e){a.reindex_group(jQuery(e))})},reindex_group:function(e){var a=["class","id","name","data-datepicker"];1===e.find(".wpsf-group__row").length?e.find(".wpsf-group__row-remove").hide():e.find(".wpsf-group__row-remove").show(),e.find(".wpsf-group__row").each(function(e){t(this).removeClass("alternate"),e%2==0&&t(this).addClass("alternate"),t(this).find("input").each(function(){var r=this,i=jQuery(this).attr("name");void 0!==i&&!1!==i&&t(r).attr("name",i.replace(/\[\d+\]/,"["+e+"]")),t.each(r.attributes,function(){this.name&&r&&t.inArray(this.name,a)>-1&&t(r).attr(this.name,this.value.replace(/\_\d+\_/,"_"+e+"_"))})}),t(this).find(".wpsf-group__row-index span").html(e)})}};t(e).ready(a.on_ready())})(jQuery,document);